<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wordle Game</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      text-align: center;
      background-color: #b19cd9;
      color: #FFD700;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .container {
      max-width: 400px;
      margin: 20px auto;
      padding: 20px;
      border: 2px solid #3a3a3c;
      border-radius: 10px;
      background-color: #ffe6f2;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes celebrate {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    @keyframes confetti {
      0% { transform: translateY(-100vh) rotate(0deg); }
      100% { transform: translateY(100vh) rotate(360deg); }
    }

    .celebrate {
      animation: celebrate 0.5s ease-in-out;
    }

    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background-color: #ffd700;
      animation: confetti 2s linear forwards;
    }

    #board {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .row {
      display: flex;
      gap: 5px;
    }

    .cell {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: bold;
      border: 1px solid #3a3a3c;
      border-radius: 4px;
      background-color: white;
      color: #3a3a3c;
      transition: 
        background-color 0.3s ease, 
        transform 0.2s,
        opacity 0.3s,
        border-color 0.3s;
    }

    .cell.bounce {
      animation: bounce 0.5s ease;
    }

    .row.active .cell {
      border-color: #565758;
    }

    #message {
      margin-bottom: 10px;
      font-size: 24px;
      min-height: 32px;
      color: white;
    }

    .win-message {
      text-shadow: 0 0 8px white;
    }

    #guess-input {
      width: 200px;
      padding: 10px;
      font-size: 16px;
      margin-bottom: 10px;
      border: 1px solid #3a3a3c;
      border-radius: 4px;
      text-transform: uppercase;
      text-align: center;
      transition: transform 0.2s;
    }

    #guess-input:focus {
      outline: none;
      border-color: #6aaa64;
      box-shadow: 0 0 8px #6aaa64;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 4px;
      background-color: #6aaa64;
      color: white;
      transition: 
        background-color 0.3s,
        transform 0.2s;
      margin: 5px;
    }

    button:hover {
      background-color: #538d4e;
      transform: scale(1.05);
    }

    button:active {
      transform: scale(0.95);
    }

    button:disabled {
      background-color: #787c7e;
      cursor: not-allowed;
    }

    #language-button {
      background-color: #3a3a3c;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="message">WORDLE</div>
    <div id="board"></div>
    <input type="text" id="guess-input" placeholder="Введите слово" maxlength="5">
    <div>
      <button id="submit-button">Отправить</button>
      <button id="restart-button">Новая игра</button>
      <button id="language-button">EN/RU</button>
    </div>
  </div>

  <script>
    const wordsEN = [
      "APPLE", "BEACH", "CHAIR", "DREAM", "EAGLE", 
      "FLAME", "GHOST", "HONEY", "IGLOO", "JELLY",
      "KINGS", "LEMON", "MAGIC", "NINJA", "OCEAN",
      "PIANO", "QUEEN", "RIVER", "SNAKE", "TIGER"
    ];

    const wordsRU = [
     "АКЦИЯ", "БУКВА", "ВЕТЕР", "ГРУША", "ДОЖДЬ",
      "ЖИЗНЬ", "ЗВУКИ", "КНИГА", "ЛОДКА",
      "НОСОК", "ОГОНЬ", "ПИЦЦА", "РЫБКА", "СОКОЛ",
      "ТУМАН", "УТЁСЫ", "ФАНТА", "ЦВЕТЫ",
      "ЧАЙКА", "ШАПКА", "БОМБА", "ВОДКА", "ШКОЛА"
    ].map(word => word.toUpperCase());

    let currentLanguage = 'RU';
    let secretWord = getRandomWord();
    let attempts = 6;
    let currentAttempt = 0;

    const board = document.getElementById("board");
    const message = document.getElementById("message");
    const guessInput = document.getElementById("guess-input");
    const submitButton = document.getElementById("submit-button");
    const restartButton = document.getElementById("restart-button");
    const languageButton = document.getElementById("language-button");

    function getRandomWord() {
      const words = currentLanguage === 'EN' ? wordsEN : wordsRU;
      return words[Math.floor(Math.random() * words.length)];
    }

    function createBoard() {
      board.innerHTML = '';
      for (let i = 0; i < attempts; i++) {
        const row = document.createElement("div");
        row.className = "row";
        for (let j = 0; j < 5; j++) {
          const cell = document.createElement("div");
          cell.className = "cell";
          row.appendChild(cell);
        }
        board.appendChild(row);
      }
    }

    function celebrateWin() {
      message.classList.add('celebrate');
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.animationDelay = Math.random() * 2 + 's';
        confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
        document.body.appendChild(confetti);
      }
      setTimeout(() => {
        document.querySelectorAll('.confetti').forEach(c => c.remove());
      }, 3000);
    }

    function updateBoard(guess) {
      const row = board.children[currentAttempt];
      let allCorrect = true;
      
      row.classList.add('active');

      for (let i = 0; i < 5; i++) {
        const cell = row.children[i];
        cell.textContent = guess[i] || '';
      }

      guessInput.disabled = true;
      submitButton.disabled = true;

      return new Promise(resolve => {
        let correctCount = 0;
        
        for (let i = 0; i < 5; i++) {
          setTimeout(() => {
            const cell = row.children[i];
            cell.classList.add('bounce');
            
            if (guess[i] === secretWord[i]) {
              cell.style.backgroundColor = "#6aaa64";
              correctCount++;
            } else if (secretWord.includes(guess[i])) {
              cell.style.backgroundColor = "#c9b458";
            } else {
              cell.style.backgroundColor = "#787c7e";
            }

            if (i === 4) {
              setTimeout(() => {
                row.classList.remove('active');
                guessInput.disabled = false;
                submitButton.disabled = false;
                resolve(correctCount === 5);
              }, 300);
            }
          }, i * 200);
        }
      });
    }

    async function checkGuess(guess) {
      const words = currentLanguage === 'EN' ? wordsEN : wordsRU;
      
      if (guess.length !== 5) {
        showMessage(currentLanguage === 'EN' 
          ? "Word must be 5 letters!" 
          : "Слово должно быть из 5 букв!", '#ff4444');
        return;
      }

      if (!words.includes(guess)) {
        showMessage(currentLanguage === 'EN' 
          ? "Word not in list!" 
          : "Такого слова нет в списке!", '#ff4444');
        return;
      }

      const isWin = await updateBoard(guess);
      currentAttempt++;
      guessInput.value = '';
      guessInput.focus();

      if (isWin) {
        const winMsg = currentLanguage === 'EN' ? "VICTORY! 🎉" : "ПОБЕДА! 🎉";
        showMessage(winMsg, 'white', true);
        celebrateWin();
        endGame();
      } else if (currentAttempt === attempts) {
        const loseMsg = currentLanguage === 'EN' 
          ? `Game over! Word: ${secretWord}` 
          : `Игра окончена! Слово: ${secretWord}`;
        showMessage(loseMsg, '#ff4444');
        endGame();
      } else {
        const continueMsg = currentLanguage === 'EN' 
          ? "Keep guessing!" 
          : "Продолжайте угадывать!";
        showMessage(continueMsg, '#6aaa64');
      }
    }

    function showMessage(text, color = '#6aaa64', isWin = false) {
      message.textContent = text;
      message.style.color = color;
      if (isWin) message.classList.add('win-message');
      else message.classList.remove('win-message');
    }

    function endGame() {
      guessInput.disabled = true;
      submitButton.disabled = true;
    }

    function restartGame() {
      secretWord = getRandomWord();
      currentAttempt = 0;
      createBoard();
      showMessage(currentLanguage === 'EN' ? "WORDLE" : "ВОРДЛИ");
      guessInput.disabled = false;
      submitButton.disabled = false;
      guessInput.value = "";
      document.querySelectorAll('.confetti').forEach(c => c.remove());
    }

    submitButton.addEventListener("click", () => {
      const guess = guessInput.value.toUpperCase();
      checkGuess(guess);
    });

    restartButton.addEventListener("click", restartGame);

    languageButton.addEventListener('click', () => {
      currentLanguage = currentLanguage === 'EN' ? 'RU' : 'EN';
      languageButton.textContent = currentLanguage === 'EN' ? 'RU/EN' : 'EN/RU';
      guessInput.placeholder = currentLanguage === 'EN' 
        ? "Enter word" 
        : "Введите слово";
      restartGame();
    });

    guessInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        const guess = guessInput.value.toUpperCase();
        checkGuess(guess);
      }
    });

    guessInput.addEventListener("input", (e) => {
      const guess = e.target.value.toUpperCase().slice(0, 5);
      const row = board.children[currentAttempt];
      
      for (let i = 0; i < 5; i++) {
        const cell = row.children[i];
        cell.textContent = guess[i] || '';
      }
      
      e.target.value = guess;
    });

    createBoard();
  </script>
</body>
</html>